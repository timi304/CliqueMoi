<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ACCESS GRANTED — SYSTEMA</title>
<style>
  :root{--bg:#000;--green:#00ff66;--dim:#053017}
  html,body{height:100%;margin:0;background:radial-gradient(circle at 20% 10%, rgba(0,255,102,0.02), transparent 10%), var(--bg);color:var(--green);font-family: "Courier New", Courier, monospace;overflow:hidden}
  .overlay{
    position:fixed;inset:0;pointer-events:none;
    background:repeating-linear-gradient(0deg, rgba(0,255,102,0.02) 0 2px, transparent 2px 4px);
    mix-blend-mode:overlay;opacity:0.6
  }
  .wrap{height:100%;display:flex;justify-content:center;align-items:center;padding:20px;box-sizing:border-box}
  .term{
    width:min(1100px,96%);max-height:92%;background:rgba(0,0,0,0.6);border:1px solid rgba(0,255,102,0.08);box-shadow:0 0 80px rgba(0,255,102,0.04), inset 0 0 40px rgba(0,255,102,0.03);padding:18px;border-radius:6px;overflow:auto
  }
  .header{display:flex;gap:12px;align-items:center;margin-bottom:10px}
  .led{width:12px;height:12px;border-radius:50%;background:#033;box-shadow:0 0 8px rgba(0,255,102,0.25);border:1px solid rgba(0,255,102,0.12)}
  .title{flex:1;font-weight:700;letter-spacing:1px}
  .subtitle{opacity:0.45;font-size:12px}
  .screen{background:linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.15));padding:12px;border-radius:4px;border:1px solid rgba(0,255,102,0.03)}
  pre{margin:0;font-size:14px;line-height:1.35;white-space:pre-wrap;word-break:break-word}
  .cursor{display:inline-block;width:10px;height:18px;background:var(--green);margin-left:6px;animation:blink 1s steps(2) infinite}
  @keyframes blink{50%{opacity:0}}
  .progress{height:12px;background:rgba(0,0,0,0.4);border:1px solid rgba(0,255,102,0.06);border-radius:6px;margin:8px 0;overflow:hidden}
  .bar{height:100%;width:0;background:linear-gradient(90deg, rgba(0,255,102,0.12), rgba(0,255,102,0.6));transition:width 400ms linear}
  .small{font-size:12px;opacity:0.7}
  .danger{color:#ff5b5b}
  footer{margin-top:14px;font-size:12px;opacity:0.6}
  /* flicker */
  .term::before{content:'';position:absolute;inset:0;pointer-events:none;background:linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0.08));mix-blend-mode:multiply;opacity:0.8}
</style>
</head>
<body>
<div class="overlay"></div>
<div class="wrap">
  <div class="term" id="term" role="region" aria-live="polite" tabindex="0">
    <div class="header">
      <div class="led" id="led"></div>
      <div class="title">SYSTEMA — ACCÈS TERMINAL</div>
      <div class="subtitle">simulation mode • aucune donnée sensible n'est envoyée</div>
    </div>

    <div class="screen">
      <pre id="log"></pre>
      <div style="height:6px"></div>
      <div class="progress"><div class="bar" id="bar"></div></div>
      <div class="small" id="status">INITIALISATION...</div>
    </div>

    <footer>
      <span class="small">Note : cette page simule un scénario — elle n'exfiltre aucune donnée.</span>
    </footer>
  </div>
</div>

<script>
(function(){
  const logEl = document.getElementById('log');
  const bar = document.getElementById('bar');
  const status = document.getElementById('status');
  const led = document.getElementById('led');

  // Safe local-only info (no network calls)
  const info = {
    time: new Date().toLocaleString(),
    userAgent: navigator.userAgent || 'inconnu',
    platform: navigator.platform || 'inconnu',
    language: navigator.language || 'inconnu',
    cookies: navigator.cookieEnabled ? 'activés' : 'désactivés',
    screen: (screen.width && screen.height) ? (screen.width + 'x' + screen.height) : 'inconnu',
    timezone: (Intl && Intl.DateTimeFormat) ? (Intl.DateTimeFormat().resolvedOptions().timeZone || 'inconnu') : 'inconnu',
    online: navigator.onLine ? 'connecté' : 'hors-ligne',
    plugins: (navigator.plugins && navigator.plugins.length) ? Array.from(navigator.plugins).slice(0,5).map(p=>p.name).join(', ') : 'aucun listable'
  };

  // Fake discovered "targets" (purely simulated)
  const fakeFiles = [
    "/Users/tom/Documents/notes.txt",
    "/Users/tom/Desktop/Photos/IMG_8342.jpg",
    "C:\\Users\\Tom\\secrets_wallet.txt",
    "/etc/passwd (simulated)",
    "C:\\Windows\\System32\\drivers\\etc\\hosts",
    "/home/tom/transfer.log"
  ];

  // Utility: append line to terminal with optional delay
  function append(line, delay=0){
    return new Promise(resolve=>{
      setTimeout(()=>{
        logEl.textContent += line + "\\n";
        logEl.parentElement.scrollTop = logEl.parentElement.scrollHeight;
        resolve();
      }, delay);
    });
  }

  // Typing effect for a single line
  function typeLine(text, speed=6){
    return new Promise(resolve=>{
      let i=0;
      const interval = setInterval(()=>{
        logEl.textContent += text.charAt(i);
        i++;
        logEl.parentElement.scrollTop = logEl.parentElement.scrollHeight;
        if(i>=text.length){ clearInterval(interval); logEl.textContent += "\\n"; resolve(); }
      }, speed);
    });
  }

  // Animate progress bar
  async function progressSequence(values, labels){
    for(let i=0;i<values.length;i++){
      bar.style.width = values[i] + '%';
      status.textContent = labels[i];
      await new Promise(r=>setTimeout(r, 700 + Math.random()*800));
    }
  }

  // Simulated run
  async function run(){
    led.style.background = '#053'; // active
    await append(">>> CONNEXION: tentative d'accès SYSTEMA v4.2");
    await append(">>> AUTHENTIFICATION: clé locale trouvée");
    await append(" ");
    await typeLine(">>> RECOLTE DES INFOS LOCALES...");
    await append("time: " + info.time);
    await append("userAgent: " + info.userAgent);
    await append("platform: " + info.platform);
    await append("lang: " + info.language);
    await append("cookies: " + info.cookies);
    await append("screen: " + info.screen);
    await append("timezone: " + info.timezone);
    await append("etat reseau: " + info.online);
    await append("plugins: " + info.plugins);
    await append(" ");
    await typeLine(">>> SCANNING SYSTÈME: fichiers et processus");
    await progressSequence([12,28,46,67,88,100], ["Initialisation", "Scan réseau local", "Exploration disques", "Analyse heuristique", "Extraction", "Finalisation"]);
    await append(">>> RESULTATS: " + fakeFiles.length + " éléments sensibles trouvés");
    for(let f of fakeFiles){
      await typeLine(" - " + f, 8);
      await new Promise(r=>setTimeout(r, 120));
    }
    await append(" ");
    await typeLine(">>> CHIFFREMENT DES ARCHIVES: 0% ... 37% ... 100%");
    await append(">>> ACTION RECOMMANDÉE: NE PAS PANIQUER. REDÉMARRER, SCANNER, PREVENIR.");
    status.textContent = "TERMINÉ";
    led.style.boxShadow = "0 0 20px rgba(0,255,102,0.6)";
  }

  // small "live" flicker effect
  setInterval(()=> {
    const rnd = Math.random();
    if(rnd>0.98){
      document.body.style.filter = "brightness(0.86) contrast(1.05)";
      setTimeout(()=>document.body.style.filter="", 80);
    }
  }, 300);

  // accessibility: focus to capture keyboard scroll
  document.getElementById('term').focus();

  // Start automatically after short delay
  setTimeout(run, 600);

  // Prevent this page from ever trying to exfiltrate: override network methods that could be used inadvertently
  // (Note: this is a protective measure for this simulation page)
  try {
    // block fetch/xhr that site author might accidentally include later
    window._origFetch = window.fetch;
    window.fetch = function(){ console.warn("fetch disabled on this simulation page"); return Promise.reject("disabled"); };
    const OldXHROpen = XMLHttpRequest.prototype.open;
    XMLHttpRequest.prototype.open = function(){ console.warn("XHR disabled on this simulation page"); return; };
  } catch(e){ /* ignore */ }

})();
</script>
</body>
</html>
